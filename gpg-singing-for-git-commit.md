---
title: GPG를 이용하여 Git 커밋에 서명하기
draft: true
tags: [Git, GPG, Signing, PGP, OpenPGP]
banner: https://source.unsplash.com/vSchPA-YA_A
date: 2021-03-15 07:48:28 +0900
---

## 커밋에 서명이 필요한 이유
Git은 버전관리 시스템(VCS, Version Control System)이기 때문에 가지는 태생적인 문제가 있다. Subversion과 같은 중앙 집중형 버전관리 시스템은 모든 소스트리가 중앙에서 관리 되기 때문에 사용자사 자신의 수정사항을 저장하고 싶으면 중앙에 있는 버전관리 시스템으로 커밋(서브버전 기준)하여야 한다. 인증 이 필요한 원격의 저장소를 사용한다고 가정하면 커밋할때 마다 매번 인증을 받아야 하고 인증 받은 정보가 Commit에 포함되기 때문에 인증 정보를 도용당하지 않는 이상 기여자의 정보가 부정 사용될 경우는 거의 없다. 

하지만 Git와 같은 분산형 버전관리 시스템의 경우 로컬에서 자신만의 소스 관리가 가능하고 커밋에 저장되는 커밋의 작성자(Author) 커밋터(Committer)정보가 커밋의 주체가 제공하는 정보에 의존하기 때문에 기여자의 정보가 부정 사용될 우려가 있다. 

최근 나오는 사기의 대분이 권위있는 사람이나 사이트 또는 단체로 가장하여 사용자의 결제 정보를 포함한 개인 정보를 탈취하는 것을 볼 수 있다. 


프로젝트의 관리자가 Pull Request를 받았다고 가정하자. 가장 이상적인 관리 방법은 관리자가 모든 코드를 리뷰 하고 문제가 없을 경우에만 해당 요청을 승인 하는것이지만 관리자가 모든 코드를 리뷰 하지 못하는 경우 앞서 학습된 기여자의 평판에 의존 하여 승인 여부를 결정 할 수 있다. 관리자가 신뢰할 만한 기여자의 이름을 도용하여 기여하는 것이다. 


## 도용을 막기 위한 방법은 무엇이 있을까?

Git에서는 인터넷에서 가저온 커밋이 실뢰할 수 있는 출처에서 온것인지 확인 하려는 경우 GPG를 사용하여 커밋에 서명하고 확인하는 방법이 있다. 

> 커밋에대한 서명은 Git v1.7.9 또는 그 이상에서만 제공한다. 

> GPG(GNU Privacy Cuard)는 GNU에서 제공하는 OpenPGP(RFC4880)의 오픈소스 구현이다. 



```
gpg --lst-secret-keys
```


```
git config --global user.signingkey C2776E6515AED724
```

```
git commit -S -m "My first signed commit"
```

```
git log --show-signature -1
```